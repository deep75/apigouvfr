<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-dark.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>API.GOUV.FR by deep75</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>API.GOUV.FR</h1>
          <h2>API disponibles pour l&#39;Etat Plate-forme</h2>
        </header>

        <section id="downloads" class="clearfix">
          <a href="https://github.com/deep75/apigouvfr/zipball/master" id="download-zip" class="button"><span>Download .zip</span></a>
          <a href="https://github.com/deep75/apigouvfr/tarball/master" id="download-tar-gz" class="button"><span>Download .tar.gz</span></a>
          <a href="https://github.com/deep75/apigouvfr" id="view-on-github" class="button"><span>View on GitHub</span></a>
        </section>

        <hr>

        <section id="main_content">
          <h1>
<a id="apigouvfr" class="anchor" href="#apigouvfr" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>api.gouv.fr</h1>

<blockquote>
<p>Le site public listant les API au sein du Système d'Information des Services Publics Français</p>
</blockquote>

<p>Pour lancer cette image il suffit par exemple de lancer cette commande :</p>

<pre><code> docker run -d -p 80:4000 --name apigouvfr mcas/apigouvfr
</code></pre>

<p>Elle permettra de visualiser le portail api.gouv.fr sur le port 80 !</p>

<p>Le Dockerfile utilisé est celui-çi  :</p>

<pre><code>FROM ruby:2.2

RUN mkdir -p /opt/site

RUN gem install github-pages --no-ri --no-rdoc

WORKDIR /opt/site

ADD api.gouv.fr /opt/site/

EXPOSE 4000

CMD jekyll serve --trace --verbose --host 0.0.0.0
</code></pre>

<p>Et il fonctionne sur la base du dépôt : <a href="https://github.com/sgmap/api.gouv.fr">https://github.com/sgmap/api.gouv.fr</a></p>

<p><img src="http://s32.postimg.org/80xog7bid/Selection_006.png" alt="alt text" title="Restitution"></p>

<h2>
<a id="public-visé" class="anchor" href="#public-vis%C3%A9" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Public visé</h2>

<ol>
<li>
<strong>Administrations</strong> (Collectivités, Ministères, etc) souhaitant fournir des services aux citoyens français.</li>
<li>
<strong>Structure de droit privé</strong> (entreprise, association…) souhaitant fournir des services.</li>
<li>
<strong>Administrations</strong> proposant des données au travers d'API.</li>
</ol>

<h3>
<a id="fournisseur-dapi--ajoute-ton-api-" class="anchor" href="#fournisseur-dapi--ajoute-ton-api-" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Fournisseur d'API ? <a href="https://github.com/sgmap/api.gouv.fr/blob/gh-pages/CONTRIBUTING.md">Ajoute ton API</a> !</h3>

<h3>
<a id="réutilisateurs-dapi--ajoute-ta-réutilisation-" class="anchor" href="#r%C3%A9utilisateurs-dapi--ajoute-ta-r%C3%A9utilisation-" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Réutilisateurs d'API ? <a href="https://github.com/sgmap/api.gouv.fr/blob/gh-pages/CONTRIBUTING.md">Ajoute ta réutilisation</a> !</h3>

<h2>
<a id="apigouvfr-1" class="anchor" href="#apigouvfr-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><code>api.gouv.fr</code>
</h2>

<p>Ce nom de domaine héberge :</p>

<ul>
<li>une présentation des différentes API proposées par l'État et les administrations</li>
<li>une présentation des réutilisations, sites ou services, utilisant des API présentées</li>
</ul>

<h2>
<a id="installation-locale" class="anchor" href="#installation-locale" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Installation locale</h2>

<p>Il est nécessaire de récupérer les sources avec la commande :</p>

<div class="highlight highlight-source-shell"><pre>git clone https://github.com/sgmap/api.gouv.fr.git
<span class="pl-c1">cd</span> api.gouv.fr</pre></div>

<p>Il existe ensuite deux manières de lancer le site sur sa machine :</p>

<ul>
<li>Il est possible d'utiliser Jekyll directement</li>
<li>Il est possible d'utiliser Docker</li>
</ul>

<p>Ces deux méthodes sont indépendantes et détaillées ci-dessous.</p>

<h3>
<a id="jekyll" class="anchor" href="#jekyll" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>jekyll</h3>

<p>Le site utilise <a href="http://jekyllrb.com/">Jekyll</a>, un générateur de site statique en <a href="https://www.ruby-lang.org">Ruby</a>.</p>

<h4>
<a id="dépendances" class="anchor" href="#d%C3%A9pendances" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Dépendances</h4>

<ul>
<li>
<a href="https://www.ruby-lang.org/en/downloads/">Ruby</a>. Il est recommandé d'utiliser un système de virtualisation comme <a href="https://rvm.io/">RVM</a> ou <a href="https://github.com/rbenv/rbenv">RbEnv</a>. La version à utiliser est : <code>2.2.3</code>
</li>
<li>la gem <code>github-pages</code> qui contient jekyll ainsi que les plugins sont disponibles sur github : <code>gem install github-pages -v 2.4.8</code>
</li>
</ul>

<h4>
<a id="commandes" class="anchor" href="#commandes" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Commandes</h4>

<ul>
<li>
<code>jekyll serve</code> pour lancer un serveur de développement. Il suffit de se rendre sur l'URL indiquée</li>
<li>
<code>jekyll build</code> pour générer le site dans le répertoire <code>_site</code>
</li>
</ul>

<h3>
<a id="docker" class="anchor" href="#docker" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Docker</h3>

<h4>
<a id="dépendances-1" class="anchor" href="#d%C3%A9pendances-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Dépendances</h4>

<ul>
<li>
<a href="https://docs.docker.com/engine/installation/">Docker</a>  (version &gt; 1.10)</li>
<li>
<a href="https://docs.docker.com/compose/install/">Docker-compose</a> (version &gt; 1.6)</li>
</ul>

<h4>
<a id="commandes-1" class="anchor" href="#commandes-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Commandes</h4>

<ul>
<li>
<code>docker-compose up</code>, Il suffit de se rendre sur l'URL indiquée</li>
</ul>

<h2>
<a id="déploiement" class="anchor" href="#d%C3%A9ploiement" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Déploiement</h2>

<p>Pour déployer ce site, il suffit de pousser les modifications vers la branche <code>gh-pages</code> sur <a href="https://github.com/sgmap/api.gouv.fr">github.com/sgmap/api.gouv.fr</a>. Cette branche étant protégée, il convient de faire <a href="https://help.github.com/articles/using-pull-requests/">des pull requests</a> car le projet utilise <a href="https://guides.github.com/introduction/flow/">github flow</a>.</p>
        </section>

        <footer>
          API.GOUV.FR is maintained by <a href="https://github.com/deep75">deep75</a><br>
          This page was generated by <a href="https://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.
        </footer>

        
      </div>
    </div>
  </body>
</html>
